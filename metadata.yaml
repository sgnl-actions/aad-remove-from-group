name: aad-remove-from-group
description: Remove a user from a group in Azure Active Directory

# Input parameters for web form generation
inputs:
  userPrincipalName:
    type: text
    description: User Principal Name (email) of the user to remove from the group
    required: true
    validation:
      min: 1
      max: 200

  groupId:
    type: text
    description: Azure AD Group ID to remove the user from
    required: true
    validation:
      min: 36
      max: 36

# Secrets required for authentication
secrets:
  AZURE_AD_TOKEN:
    description: Azure AD access token with necessary permissions to modify group membership
    required: true

# Environment variables
environment:
  AZURE_AD_TENANT_URL:
    description: Azure AD tenant URL (e.g., https://graph.microsoft.com/v1.0)
    required: true

# Expected output structure
outputs:
  status:
    type: text
    description: Operation result (success, failed, recovered, etc.)

  userPrincipalName:
    type: text
    description: The user principal name that was processed

  groupId:
    type: text
    description: The group ID that was processed

  removed:
    type: boolean
    description: Whether the user was successfully removed from the group

  userId:
    type: text
    description: The Azure AD object ID of the user